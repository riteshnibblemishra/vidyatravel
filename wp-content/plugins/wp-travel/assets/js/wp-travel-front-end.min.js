jQuery(document).ready(function($){function wp_travel_set_equal_height(){var base_height=0;$(".wp-travel-feature-slide-content").css({height:"auto"}),window.innerWidth>992&&($(".wp-travel-feature-slide-content").each(function(){$(this).height()>base_height&&(base_height=$(this).height())}),base_height>0&&($(".trip-headline-wrapper .left-plot").height(base_height),$(".trip-headline-wrapper .right-plot").height(base_height)))}function rate(rateLabel){for(var i=0;i<rateLabel;i++)$(".rate_label:eq( "+i+" )").addClass("dashicons-star-filled").removeClass("dashicons-star-empty ");for(j=4;j>=i;j--)$(".rate_label:eq( "+j+" )").addClass("dashicons-star-empty")}if($(".wp-travel-error").length>0&&$("html, body").animate({scrollTop:$(".wp-travel-error").offset().top-200},1e3),wp_travel_set_equal_height(),$(".wp-travel-gallery").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}}),$(".wp-travel-send-enquiries").magnificPopup({type:"inline",preloader:!1,focus:"#wp-travel-enquiry-name",midClick:!0,callbacks:{open:function(){$("#wp-travel-enquiries").trigger("reset").parsley().reset()}}}),$("#wp-travel-tab-wrapper").easyResponsiveTabs({}),window.location.hash){var hash=window.location.hash.substring(1);if($("ul.resp-tabs-list > li."+hash).hasClass("wp-travel-ert")&&(lis=$("ul.resp-tabs-list > li"),lis.removeClass("resp-tab-active"),$("ul.resp-tabs-list > li."+hash).addClass("resp-tab-active"),tab_cont=$(".tab-list-content"),tab_cont.removeClass("resp-tab-content-active").hide(),$("#"+hash+".tab-list-content").addClass("resp-tab-content-active").show()),$(".wp-travel-tab-wrapper").length){var winWidth=$(window).width(),tabHeight=$(".wp-travel-tab-wrapper").offset().top;if(winWidth<767)var tabHeight=$(".resp-accordion.resp-tab-active").offset().top;$("html, body").animate({scrollTop:tabHeight},1200)}}$(".rate_label").hover(function(){var rateLabel=$(this).attr("data-id");$(".rate_label").removeClass("dashicons-star-filled"),rate(rateLabel)},function(){var ratedLabel=$("#wp_travel_rate_val").val();$(".rate_label").removeClass("dashicons-star-filled").addClass("dashicons-star-empty"),ratedLabel>0&&rate(ratedLabel)}),$(".rate_label").click(function(e){e.preventDefault(),$("#wp_travel_rate_val").val($(this).attr("data-id"))}),$(document).on("click",".wp-travel-count-info",function(e){e.preventDefault(),$(".wp-travel-review").trigger("click")}),$(document).on("click",".top-view-gallery",function(e){e.preventDefault(),$(".wp-travel-tab-gallery-contnet").trigger("click")}),$(document).on("click",".wp-travel-count-info, .top-view-gallery",function(e){e.preventDefault();var winWidth=$(window).width(),tabHeight=$(".wp-travel-tab-wrapper").offset().top;if(winWidth<767)var tabHeight=$(".resp-accordion.resp-tab-active").offset().top;$("html, body").animate({scrollTop:tabHeight},1200)}),$(window).on("resize",function(e){wp_travel_set_equal_height()}),$(".open-all-link").click(function(e){e.preventDefault(),$(".panel-title a").removeClass("collapsed").attr({"aria-expanded":"true"}),$(".panel-collapse").addClass("in"),$(".close-all-link").show(),$(".panel-collapse").css("height","auto")}),$(".close-all-link").click(function(e){e.preventDefault(),$(".panel-title a").addClass("collapsed").attr({"aria-expanded":"false"}),$(".panel-collapse").removeClass("in"),$(".open-all-link").show()}),jQuery(".wp-travel-booking-row").hide(),jQuery(".show-booking-row").click(function(event){event.preventDefault();var parent=$(this).closest("li.availabily-content");jQuery(this).parent(".action").siblings(".wp-travel-booking-row").toggle("fast",function(){parent.toggleClass("opened")}).addClass("animate"),jQuery(this).text(function(i,text){return text===wp_travel.strings.bookings.select?wp_travel.strings.bookings.close:wp_travel.strings.bookings.select})}),jQuery(".wp-travel-booking-row-fd").hide(),jQuery(".show-booking-row-fd").click(function(event){event.preventDefault(),jQuery(this).parent(".action").parent(".trip_list_by_fixed_departure_dates_booking").siblings(".wp-travel-booking-row-fd").toggle("fast").addClass("animate"),jQuery(this).text(function(i,text){return text===wp_travel.strings.bookings.select?wp_travel.strings.bookings.close:wp_travel.strings.bookings.select})}),jQuery(".wp-travel-pricing-dates").each(function(){var availabledate=jQuery(this).data("available-dates");availabledate?jQuery(this).wpt_datepicker({language:wp_travel.locale,autoClose:!0,minDate:new Date,onRenderCell:function(date,cellType){if("day"==cellType)return availabledate=availabledate.map(function(d){return new Date(d).toLocaleDateString("en-US")}),isDisabled=!availabledate.includes(date.toLocaleDateString("en-US")),{disabled:isDisabled}}}):jQuery(this).wpt_datepicker({language:wp_travel.locale,minDate:new Date,autoClose:!0})}),"undefined"!=typeof moment&&($(".wp-travel-pricing-days-night").wpt_datepicker({language:wp_travel.locale,minDate:new Date,autoClose:!0,onSelect:function(formattedDate,date,inst){if(date){var el=inst.$el,parent=$(el).closest("form").attr("id"),next_el=$("arrival_date"===$(el).attr("name")?"#"+parent+" input[name=departure_date]":"#"+parent+" input[name=arrival_date]"),day_to_add=parseInt(el.data("totaldays"));if(day_to_add<1)return void next_el.val(formattedDate);var _moment=moment(date);"arrival_date"===$(el).attr("name")?someFormattedDate=_moment.add(day_to_add,"days").format("YYYY-MM-DD"):someFormattedDate=_moment.subtract(day_to_add,"days").format("YYYY-MM-DD");next_el.wpt_datepicker().data("datepicker").date=new Date(someFormattedDate),next_el.val(someFormattedDate)}}}),$("input[name=departure_date]").each(function(){var departure_date=$(this).wpt_datepicker().data("datepicker");if(void 0!==departure_date){var day_to_add=departure_date.$el.data("totaldays");day_to_add>0&&(someFormattedDate=moment().add(day_to_add,"days").format("YYYY-MM-DD"),departure_date.update("minDate",new Date(someFormattedDate)))}})),$(document).ready(function($){"function"==typeof parsley&&$("input").parsley()}),jQuery(document).ready(function($){$(".login-page .message a").click(function(e){e.preventDefault(),$(".login-page form.login-form,.login-page form.register-form").animate({height:"toggle",opacity:"toggle"},"slow")})}),$(".dashboard-tab").easyResponsiveTabs({type:"vertical",width:"auto",fit:!0,tabidentify:"ver_1",activetab_bg:"#fff",inactive_bg:"#F5F5F5",active_border_color:"#c1c1c1",active_content_border_color:"#5AB1D0"}),$(".dashtab-nav").click(function(e){e.preventDefault();var tab=$(this).data("tabtitle");$("#"+tab).click(),$(this).hasClass("change-password")&&($("#wp-travel-dsh-change-pass-switch").is(":checked")||$("#wp-travel-dsh-change-pass-switch").trigger("click"))}),$("#wp-travel-dsh-change-pass-switch").change(function(e){$("#wp-travel-dsh-change-pass").slideToggle()}),$(".wp_travel_tour_extras_toggler").click(function(){$(this).parents(".wp_travel_tour_extras_option_single_content").children(".wp_travel_tour_extras_option_bottom").slideToggle()}),$(".wp-travel-magnific-popup").magnificPopup({type:"inline"})}),function($){$(document).on("click",".paxpicker .icon-users",function(e){$(this).closest(".paxpicker").hasClass("is-active")?$(this).closest(".paxpicker").removeClass("is-active"):$(this).closest(".paxpicker").addClass("is-active")}),$(".add-to-cart-btn").on("click",function(){var pricing=$(this).closest("form").find(".pricing-categories");parseInt(pricing[0].dataset.selectedPax)<parseInt(pricing[0].dataset.min)?(alert("Please select at least minimum pax."),$(this).attr("disabled","disabled").css({opacity:".5"})):$(this).removeAttr("disabled").removeAttr("style")}),$(document).on("click",".pax-picker-plus, .pax-picker-minus",function(e){e.preventDefault();var parent=$(this).closest(".pricing-categories"),parent_id=parent.attr("id"),pricing_form=$("#"+parent.data("parent-form-id")),available_pax=parseInt(document.getElementById(parent_id).dataset.availablePax),selectedPax=parseInt(document.getElementById(parent_id).dataset.selectedPax),min_pax=(parseInt(document.getElementById(parent_id).dataset.max),parseInt(document.getElementById(parent_id).dataset.min));!function(el){var input=$(el).siblings(".paxpicker-input"),current_val=input.val()?parseInt(input.val()):0;$("#"+parent_id).find(".available-seats").find("span").text(function(){return $(el).hasClass("pax-picker-plus")&&available_pax>0?(document.getElementById(parent_id).dataset.availablePax=--available_pax,document.getElementById(parent_id).dataset.selectedPax=++selectedPax,input.removeAttr("disabled").val(++current_val).trigger("change"),available_pax):$(el).hasClass("pax-picker-minus")&&current_val>0?(document.getElementById(parent_id).dataset.availablePax=++available_pax,document.getElementById(parent_id).dataset.selectedPax=--selectedPax,input.removeAttr("disabled").val(--current_val).trigger("change"),available_pax):void 0})}(this),selectedPax<min_pax&&pricing_form.find("input[type=submit]").attr("disabled","disabled").css({opacity:".5"})||pricing_form.find("input[type=submit]").removeAttr("disabled").removeAttr("style");var display_value="",pax_input="";if($("#"+parent_id+" .paxpicker-input").each(function(){if($(this).val()>0){var type=$(this).data("type"),category_id=$(this).data("category-id");display_value+=", "+type+" x "+$(this).val(),pax_input+='<input type="hidden" name="pax['+category_id+']" value="'+$(this).val()+'" >'}}),!display_value)var display_value=$("#"+parent_id).siblings(".summary").find(".participants-summary-container").data("default");display_value=display_value.replace(/^,|,$/g,""),$("#"+parent_id).siblings(".summary").find(".participants-summary-container").val(display_value),$("#"+parent_id+" .pricing-input").html(pax_input)})}(jQuery);